# –°–∏—Å—Ç–µ–º–∞ –ê—É–¥–∏—Ç–∞ –î–µ–ø–æ–∑–∏—Ç–æ–≤ - –ü–æ–ª–Ω–∞—è –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üéØ –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ –ê—É–¥–∏—Ç–∞ –î–µ–ø–æ–∑–∏—Ç–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–µ–ø–æ–∑–∏—Ç—ã –∏–∑ Keitaro –∏ —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –∏—Ö —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏, –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–º–∏ Telegram –±–æ—Ç–æ–º, —á—Ç–æ–±—ã –≤—ã—è–≤–∏—Ç—å –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –¥–µ–ø–æ–∑–∏—Ç—ã –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏.

## üîÑ **–†–µ–∂–∏–º—ã –†–∞–±–æ—Ç—ã**

### **1. –†—É—á–Ω–æ–π –†–µ–∂–∏–º (–¢–µ–∫—É—â–∏–π)**
```bash
# –ê—É–¥–∏—Ç –∑–∞ –ø–µ—Ä–∏–æ–¥
curl -X POST http://localhost:3000/admin/audit-deposits \
  -H "Content-Type: application/json" \
  -d '{"dateFrom": "2025-08-29", "dateTo": "2025-08-29"}'

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ SubID
curl http://localhost:3000/admin/audit-deposit/1n88iildmflp
```

### **2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –†–µ–∂–∏–º (–ù–û–í–´–ô!)**

#### **–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ü—Ä–æ–≤–µ—Ä–æ–∫:**
- **üìÖ –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –∞—É–¥–∏—Ç**: –ö–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 09:00 –ø–æ –ú–°–ö
  - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–µ–ø–æ–∑–∏—Ç—ã –∑–∞ –≤—á–µ—Ä–∞—à–Ω–∏–π –¥–µ–Ω—å
  - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º
  - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ –∏—Å—Ç–æ—Ä–∏—é

- **üìä –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç**: –í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ –≤ 10:00 –ø–æ –ú–°–ö
  - –ü–æ–¥—Ä–æ–±–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ –Ω–µ–¥–µ–ª—é
  - –ê–Ω–∞–ª–∏–∑ —Ç—Ä–µ–Ω–¥–æ–≤ –∏ –¥–∏–Ω–∞–º–∏–∫–∏
  - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

- **üö® –≠–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞**: –ö–∞–∂–¥—ã–µ 4 —á–∞—Å–∞ (—Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö)
  - –ê–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–∏–∑–∫–æ–π —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏ (<95%)
  - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–µ–∫—É—â–∏–π –¥–µ–Ω—å
  - –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º–∞—Ö

#### **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ó–∞–ø—É—Å–∫:**
- ‚úÖ –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –±–æ—Ç–∞
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ
- ‚úÖ –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –≤—ã–∫–ª—é—á–µ–Ω–∏–∏ –±–æ—Ç–∞
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω–æ–≥–æ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞

## üìã **–ö–∞–∫ –†–∞–±–æ—Ç–∞–µ—Ç –ü—Ä–æ–≤–µ—Ä–∫–∞**

### **–ê–ª–≥–æ—Ä–∏—Ç–º –°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è:**
```javascript
1. –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–µ–ø–æ–∑–∏—Ç–æ–≤ –∏–∑ Keitaro –∑–∞ –ø–µ—Ä–∏–æ–¥ ‚Üí getConversionsForPeriod()
2. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ FB –¥–µ–ø–æ–∑–∏—Ç–æ–≤ ‚Üí trafficSourceService.isFBSource()
3. –ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π ‚Üí NotificationLog –∑–∞–ø—Ä–æ—Å—ã
4. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ SubID –∏–∑ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö ‚Üí clickId, subid, subid1
5. –°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–µ–ø–æ–∑–∏—Ç–æ–≤ —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏:
   - –¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ (—Ñ–æ–ª–ª–±—ç–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è): sentSubIds.has(subId)
   - –ß–∞—Å—Ç–∏—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ (–æ–±—ã—á–Ω—ã–µ): sentSubId1s.has(subId.slice(0, 8))
6. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞ –æ –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã—Ö ‚Üí —Å –ø—Ä–∏—á–∏–Ω–∞–º–∏ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏
7. –í–æ–∑–≤—Ä–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ ‚Üí —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ + –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–≤–µ—Ç—ã
```

### **–¢–∏–ø—ã –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:**
- **–û–±—ã—á–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**: SubID —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∫–∞–∫ `subid1` (–ø–µ—Ä–≤—ã–µ 8 —Å–∏–º–≤–æ–ª–æ–≤)
- **–§–æ–ª–ª–±—ç–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**: –ü–æ–ª–Ω—ã–π SubID —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∫–∞–∫ `clickId`
- **–£—Å–ø–µ—à–Ω—ã–µ —Ç–æ–ª—å–∫–æ**: –£—á–∏—Ç—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å `success_count > 0`

## ü§ñ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**

### **–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:**
```
üìä –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –ê—É–¥–∏—Ç –î–µ–ø–æ–∑–∏—Ç–æ–≤

üìÖ –î–∞—Ç–∞: 2025-08-29
üí∞ –í—Å–µ–≥–æ FB –¥–µ–ø–æ–∑–∏—Ç–æ–≤: 15
‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã: 14
‚ö†Ô∏è –ü—Ä–æ–ø—É—â–µ–Ω–æ: 1
üìà –£—Å–ø–µ—à–Ω–æ—Å—Ç—å: 93%

üîç –ü—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –¥–µ–ø–æ–∑–∏—Ç—ã:
1. 1n88iildmflp - Unknown - likely postback not received

üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
1. üö® 1 –¥–µ–ø–æ–∑–∏—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ –±–µ–∑ –ø–æ—Å—Ç–±–µ–∫–∞ - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –ø–ª–∞—Ç–µ–∂–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã
```

### **–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ –û—Ç—á–µ—Ç—ã:**
```
üìà –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –û—Ç—á–µ—Ç –ø–æ –î–µ–ø–æ–∑–∏—Ç–∞–º

üìÖ –ü–µ—Ä–∏–æ–¥: 2025-08-23 - 2025-08-29
üí∞ –í—Å–µ–≥–æ FB –¥–µ–ø–æ–∑–∏—Ç–æ–≤: 98
üì§ –í—Å–µ–≥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π: 95
‚úÖ –£—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ: 95
‚ö†Ô∏è –ü—Ä–æ–ø—É—â–µ–Ω–æ: 3
üìä –û–±—â–∞—è —É—Å–ø–µ—à–Ω–æ—Å—Ç—å: 97%

üìà –¢—Ä–µ–Ω–¥—ã:
‚Ä¢ –°—Ä–µ–¥–Ω—è—è —É—Å–ø–µ—à–Ω–æ—Å—Ç—å –∑–∞ –Ω–µ–¥–µ–ª—é: 96%
üìà ‚Ä¢ –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–∞—è –¥–∏–Ω–∞–º–∏–∫–∞ (+2%)

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –æ—Ç—á–µ—Ç - 29.08.2025 10:00
```

### **–≠–∫—Å—Ç—Ä–µ–Ω–Ω—ã–µ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:**
```
üö® –≠–ö–°–¢–†–ï–ù–ù–û–ï –£–í–ï–î–û–ú–õ–ï–ù–ò–ï

‚ö†Ô∏è –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –¥–µ–ø–æ–∑–∏—Ç—ã!
üìÖ –î–∞—Ç–∞: 2025-08-29
‚ùå –ü—Ä–æ–ø—É—â–µ–Ω–æ: 3 –¥–µ–ø–æ–∑–∏—Ç–æ–≤

üîç –¢—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∞:
1. 1n88iildmflp ($60)
2. 1pib8qhdmglc ($85)
3. 234iuopdmges ($120)

üîó –ü—Ä–æ–≤–µ—Ä–∏—Ç—å: POST /admin/audit-deposits
```

## üìä **API Endpoints**

### **1. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞**
```bash
curl http://localhost:3000/admin/audit-scheduler
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "auditScheduler": {
    "isRunning": true,
    "lastAuditTime": "2025-08-29T06:00:00.000Z",
    "auditHistoryCount": 15,
    "recentAudits": [
      {
        "type": "daily",
        "date": "2025-08-28",
        "successRate": 95,
        "missingDeposits": 2,
        "timestamp": "2025-08-29T06:00:00.000Z"
      }
    ],
    "nextScheduledAudits": {
      "daily": "–ö–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 09:00 MSK",
      "weekly": "–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ –≤ 10:00 MSK", 
      "emergency": "–ö–∞–∂–¥—ã–µ 4 —á–∞—Å–∞ (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)"
    },
    "description": "–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∞—É–¥–∏—Ç–∞ –¥–µ–ø–æ–∑–∏—Ç–æ–≤",
    "features": [
      "–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –∞—É–¥–∏—Ç –≤ 09:00 MSK",
      "–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç –≤ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ 10:00 MSK",
      "–≠–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–µ 4 —á–∞—Å–∞",
      "–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram",
      "–ò—Å—Ç–æ—Ä–∏—è –∞—É–¥–∏—Ç–æ–≤ –∏ —Ç—Ä–µ–Ω–¥–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑"
    ]
  }
}
```

### **2. –†—É—á–Ω–æ–π –ê—É–¥–∏—Ç (–∫–∞–∫ –±—ã–ª–æ)**
```bash
# –ê—É–¥–∏—Ç –∑–∞ –ø–µ—Ä–∏–æ–¥
curl -X POST http://localhost:3000/admin/audit-deposits \
  -H "Content-Type: application/json" \
  -d '{"dateFrom": "2025-08-29", "dateTo": "2025-08-29"}'

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π SubID
curl http://localhost:3000/admin/audit-deposit/1n88iildmflp
```

## üîß **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –ó–∞–ø—É—Å–∫**

### **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ó–∞–ø—É—Å–∫:**
```javascript
// –ü—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –±–æ—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:
auditScheduler.start();

// –ü—Ä–∏ –≤—ã–∫–ª—é—á–µ–Ω–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è:
auditScheduler.stop();
```

### **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
–î–æ–±–∞–≤–ª–µ–Ω –Ω–æ–≤—ã–π –ø–∞–∫–µ—Ç –≤ `package.json`:
```json
{
  "dependencies": {
    "node-cron": "^3.0.3"
  }
}
```

### **–£—Å—Ç–∞–Ω–æ–≤–∫–∞:**
```bash
npm install node-cron
```

## üìà **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –°–∏—Å—Ç–µ–º—ã**

### **‚úÖ –ß—Ç–æ –ü–æ–ª—É—á–∏–ª–∏:**
1. **–ü–æ—Å—Ç–æ—è–Ω–Ω—ã–π –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç 24/7 –±–µ–∑ —É—á–∞—Å—Ç–∏—è —á–µ–ª–æ–≤–µ–∫–∞
2. **–ë—ã—Å—Ç—Ä–æ–µ –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ**: –ü—Ä–æ–±–ª–µ–º—ã –≤—ã—è–≤–ª—è—é—Ç—Å—è –≤ —Ç–µ—á–µ–Ω–∏–µ —Å—É—Ç–æ–∫
3. **–¢—Ä–µ–Ω–¥–æ–≤—ã–π –ê–Ω–∞–ª–∏–∑**: –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –¥–∏–Ω–∞–º–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã
4. **–ü—Ä–æ–∞–∫—Ç–∏–≤–Ω—ã–µ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**: –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã —É–∑–Ω–∞—é—Ç –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ
5. **–ò—Å—Ç–æ—Ä–∏—è –ê—É–¥–∏—Ç–æ–≤**: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞

### **üìä –ß–∞—Å—Ç–æ—Ç–∞ –ü—Ä–æ–≤–µ—Ä–æ–∫:**
- **–ï–∂–µ–¥–Ω–µ–≤–Ω–æ**: –ë–∞–∑–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—á–µ—Ä–∞—à–Ω–∏—Ö –¥–µ–ø–æ–∑–∏—Ç–æ–≤
- **–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ**: –ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ —Å —Ç—Ä–µ–Ω–¥–∞–º–∏
- **–ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö**: –≠–∫—Å—Ç—Ä–µ–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞–∂–¥—ã–µ 4 —á–∞—Å–∞
- **–ü–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é**: –†—É—á–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —á–µ—Ä–µ–∑ API

### **üéØ –¶–µ–ª–µ–≤—ã–µ –ü–æ–∫–∞–∑–∞—Ç–µ–ª–∏:**
- **>95% —É—Å–ø–µ—à–Ω–æ—Å—Ç—å** - –æ—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å–∏—Å—Ç–µ–º—ã
- **90-95% —É—Å–ø–µ—à–Ω–æ—Å—Ç—å** - –Ω–æ—Ä–º–∞–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –≤–æ–∑–º–æ–∂–Ω—ã–º–∏ —É–ª—É—á—à–µ–Ω–∏—è–º–∏
- **<90% —É—Å–ø–µ—à–Ω–æ—Å—Ç—å** - —Ç—Ä–µ–±—É–µ—Ç—Å—è –≤–Ω–∏–º–∞–Ω–∏–µ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

## üß™ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**

### **–¢–µ—Å—Ç –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞
curl http://localhost:3000/admin/audit-scheduler

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
node test_audit_system.js
```

### **–†—É—á–Ω–∞—è –ü—Ä–æ–≤–µ—Ä–∫–∞ –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã—Ö –î–µ–ø–æ–∑–∏—Ç–æ–≤:**
```bash
curl http://localhost:3000/admin/audit-deposit/1n88iildmflp
curl http://localhost:3000/admin/audit-deposit/1pib8qhdmglc
curl http://localhost:3000/admin/audit-deposit/234iuopdmges
```

## üöÄ **–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ**

### **–§–∞–π–ª—ã –î–æ–±–∞–≤–ª–µ–Ω—ã/–ò–∑–º–µ–Ω–µ–Ω—ã:**
1. **`src/services/auditScheduler.service.js`** - –ù–û–í–´–ô: –°–µ—Ä–≤–∏—Å –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞
2. **`src/services/depositAudit.service.js`** - –°–£–©–ï–°–¢–í–£–Æ–©–ò–ô: –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å –∞—É–¥–∏—Ç–∞
3. **`src/index.js`** - –ò–ó–ú–ï–ù–ï–ù: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ + –Ω–æ–≤—ã–π endpoint
4. **`package.json`** - –ò–ó–ú–ï–ù–ï–ù: –î–æ–±–∞–≤–ª–µ–Ω node-cron
5. **`test_audit_system.js`** - –ù–û–í–´–ô: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
6. **`–°–ò–°–¢–ï–ú–ê_–ê–£–î–ò–¢–ê_–î–ï–ü–û–ó–ò–¢–û–í.md`** - –ù–û–í–´–ô: –≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### **–ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
–ü–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º–∞ —Å—Ä–∞–∑—É:
- ‚úÖ –ù–∞—á–Ω–µ—Ç –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ 09:00
- ‚úÖ –ë—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ –æ—Ç—á–µ—Ç—ã
- ‚úÖ –û–±–Ω–∞—Ä—É–∂–∏—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –¥–µ–ø–æ–∑–∏—Ç—ã
- ‚úÖ –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—é –ø—Ä–æ–±–ª–µ–º

## üí° **–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ**

### **–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –û–ø–µ—Ä–∞—Ü–∏–∏:**
1. **09:00**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ ‚Üí —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram
2. **–ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö**: –ò–∑—É—á–∏—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–∏
3. **–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏**: –†—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ API

### **–†–µ—à–µ–Ω–∏–µ –ü—Ä–æ–±–ª–µ–º:**
1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–æ–±—â–∞–µ—Ç –æ –ø—Ä–æ–ø—É—â–µ–Ω–Ω–æ–º –¥–µ–ø–æ–∑–∏—Ç–µ** ‚Üí `GET /admin/audit-deposit/:subid`
2. **–°–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑** ‚Üí `POST /admin/audit-deposits` –∑–∞ –ø–µ—Ä–∏–æ–¥
3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏** ‚Üí `GET /admin/audit-scheduler`
4. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏** ‚Üí —Å–ª–µ–¥–æ–≤–∞—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º –∏–∑ –æ—Ç—á–µ—Ç–æ–≤

---

## üéâ **–ò—Ç–æ–≥: –ü–æ–ª–Ω–∞—è –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è**

### **–û—Ç–≤–µ—Ç –Ω–∞ –≤–∞—à –≤–æ–ø—Ä–æ—Å:**
> "–∫–∞–∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–µ–ø–æ–∑–∏—Ç–æ–≤ –≤ –±–æ—Ç–µ? –í —Ä—É—á–Ω–æ–º —Ä–µ–∂–∏–º–µ –∏–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–º? –∫–∞–∫ —á–∞—Å—Ç–æ? –∫–∞–∫ –∏–º–µ–Ω–Ω–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è?"

**–¢–ï–ü–ï–†–¨ –û–ë–ê –†–ï–ñ–ò–ú–ê:**

#### **ü§ñ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –†–µ–∂–∏–º:**
- **–ß–∞—Å—Ç–æ—Ç–∞**: –ï–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 09:00, –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ –≤ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ 10:00, —ç–∫—Å—Ç—Ä–µ–Ω–Ω–æ –∫–∞–∂–¥—ã–µ 4 —á–∞—Å–∞ –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö
- **–ó–∞–ø—É—Å–∫**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –±–æ—Ç–∞, —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ
- **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ Telegram –≤—Å–µ–º –≤–ª–∞–¥–µ–ª—å—Ü–∞–º
- **–ò—Å—Ç–æ—Ä–∏—è**: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏ —Ç—Ä–µ–Ω–¥–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑

#### **üîß –†—É—á–Ω–æ–π –†–µ–∂–∏–º:**
- **–ß–∞—Å—Ç–æ—Ç–∞**: –ü–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- **–ó–∞–ø—É—Å–∫**: API –≤—ã–∑–æ–≤—ã –∏–ª–∏ —Ç–µ—Å—Ç–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –†–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º

**–°–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–Ω–æ–º–Ω–æ –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç 100% –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –¥–µ–ø–æ–∑–∏—Ç–∞–º–∏!** üéØ